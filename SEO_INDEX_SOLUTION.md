# SEO 색인 문제 해결 가이드

이 문서는 "운명의 매트릭스" 사이트의 검색 엔진 색인 문제 해결에 관한 설명입니다.

## 문제 설명

SPA(Single Page Application) 기반 웹사이트는 검색 엔진이 내부 경로를 색인하는 데 어려움이 있을 수 있습니다. 이는 주로 다음 이유 때문입니다:

1. 모든 경로가 `/index.html`로 리다이렉트되어 검색 엔진이 모든 페이지를 동일하게 인식
2. 자바스크립트 렌더링에 의존하여 SEO에 불리함
3. 검색 엔진이 SPA의 클라이언트 라우팅을 제대로 인식하지 못함

## 적용된 해결책

이 문제를 해결하기 위해 다음과 같은 변경사항을 적용했습니다:

1. **검색 엔진 크롤러 감지 및 특별 처리**:
   - 구글봇, 빙봇 등이 접속할 때 특별한 헤더와 함께 프리렌더링된 콘텐츠 제공
   - `netlify.toml`의 리다이렉트 규칙 개선

2. **동적 렌더링 지원**:
   - 서버리스 함수를 통해 검색 엔진 크롤러에게 정적 HTML 스냅샷 제공
   - SEO에 최적화된 응답 헤더 추가

3. **메타 태그 개선**:
   - 프리렌더링 힌트 추가
   - `fragment`, `renderer` 메타 태그 추가

4. **Netlify 설정 최적화**:
   - HTML 페이지에 대한 특별 헤더 설정
   - SEO 전용 경로 추가 (`/_seo/*`, `/_render`)

## 확인 방법

변경사항 적용 후 다음을 확인하세요:

1. Google Search Console에서 URL 검사 기능을 사용하여 페이지 색인 상태 확인
2. "색인생성 요청" 버튼을 클릭하여 새롭게 변경된 페이지를 크롤링하도록 요청
3. 몇 일 후 Search Console에서 색인 현황 확인

## 배포 방법

`deploy-seo-fix.bat` 스크립트를 실행하여 변경사항을 배포하세요:

```
.\deploy-seo-fix.bat
```

## 주의사항

1. 색인이 완전히 갱신되는 데 최대 1-2주가 소요될 수 있습니다.
2. Google Search Console에서 정기적으로 상태를 모니터링하세요.
3. 사이트맵(sitemap.xml)이 최신 상태인지 확인하세요.

---

이 해결책은 SPA 구조를 유지하면서 검색 엔진 색인을 개선하는 방식입니다. 궁극적으로는 Next.js나 Nuxt와 같은 SSR/SSG 프레임워크로의 마이그레이션을 고려하는 것이 더 완벽한 해결책이 될 수 있습니다.
